# HMS医院门诊预约系统



**[** **软件设计说明书]**

 

| 成员 | 杨宏飞 |
| ---- | ------ |
| 成员 | 赵子璁 |
| 成员 | 陶佑鹏 |
| 成员 | 孙宇航 |
| 成员 | 张昊然 |


- [HMS医院门诊预约系统](#hms医院门诊预约系统)
- [1.   引言](#1---引言)
	- [1.1 编写目的](#11-编写目的)
	- [1.2 命名规范](#12-命名规范)
	- [1.3 参考资料](#13-参考资料)
	- [1.4 相关文档](#14-相关文档)
- [2.   总体设计](#2---总体设计)
	- [2.1 需求规定](#21-需求规定)
	- [2.2 运行环境](#22-运行环境)
		- [2.2.1 硬件运行环境](#221-硬件运行环境)
		- [2.2.2 软件运行环境](#222-软件运行环境)
		- [2.2.3 开发环境](#223-开发环境)
	- [2.3基本设计思想](#23基本设计思想)
	- [2.4子系统设计](#24子系统设计)
	- [2.5 功能模块清单](#25-功能模块清单)
- [3.   接口设计](#3---接口设计)
	- [3.1 用户接口](#31-用户接口)
	- [3.2 外部接口](#32-外部接口)
	- [3.3 内部接口](#33-内部接口)
- [4.   数据库设计](#4---数据库设计)
	- [4.1数据库中表名列表](#41数据库中表名列表)
	- [4.2数据库列表清单](#42数据库列表清单)
- [5.   典型系统子功能设计](#5---典型系统子功能设计)
	- [5.1注册登录系统设计](#51注册登录系统设计)
		- [5.1.1活动图设计](#511活动图设计)
		- [5.1.2顺序图设计](#512顺序图设计)
	- [5.2个人主页系统设计](#52个人主页系统设计)
		- [5.2.1活动图设计](#521活动图设计)
		- [5.2.2顺序图设计](#522顺序图设计)
	- [5.3医生事务系统设计](#53医生事务系统设计)
		- [5.3.1活动图设计](#531活动图设计)
		- [5.3.2顺序图设计](#532顺序图设计)
	- [5.4后台管理系统设计](#54后台管理系统设计)
		- [5.4.1活动图设计](#541活动图设计)
		- [5.4.2顺序图设计](#542顺序图设计)
	- [5.5 消息通知系统设计](#55-消息通知系统设计)
		- [5.5.1活动图设计](#551活动图设计)
		- [5.5.2顺序图设计](#552顺序图设计)
	- [5.6 预约挂号系统设计](#56-预约挂号系统设计)
		- [5.6.1活动图设计](#561活动图设计)
		- [5.6.2顺序图设计](#562顺序图设计)
- [6.   功能模块设计](#6---功能模块设计)
	- [6.1 登录页面](#61-登录页面)
	- [6.2 注册页面](#62-注册页面)
	- [6.3患者个人主页界面](#63患者个人主页界面)
	- [6.4医生个人主页界面](#64医生个人主页界面)
	- [6.5消息通知界面](#65消息通知界面)
	- [6.6 医生端主页界面](#66-医生端主页界面)
	- [6.7 忘记密码页面](#67-忘记密码页面)
	- [6.8 患者端主页面](#68-患者端主页面)
	- [6.9 我的预约页面](#69-我的预约页面)
	- [6.10 预约挂号页面](#610-预约挂号页面)
	- [6.11 查看医生信息页面](#611-查看医生信息页面)
	- [6.12 后台管理员页面](#612-后台管理员页面)
- [7.   角色授权设计](#7---角色授权设计)
- [8.   系统出错处理设计](#8---系统出错处理设计)
	- [8.1出错信息](#81出错信息)
	- [8.2故障的预防和补救措施](#82故障的预防和补救措施)
	- [8.3错误处理设计](#83错误处理设计)
- [9.   系统维护与安全设计](#9---系统维护与安全设计)
	- [9.1 系统维护设计](#91-系统维护设计)
	- [9.2 安全设计](#92-安全设计)
- [10. 测试计划](#10-测试计划)

 



# 1.   引言

## 1.1 编写目的

本软件设计说明书对需求分析，描述了系统各个模块的设计。通过本文档，客户可以了解开发人员所设计的软件功能是否满足了客户需求，并对其中的细节与开发人员进行交流。便于及时反馈。本文档将作为开发人员在前期开发阶段的重要依据，以及后期交付阶段客户与开发团队共同检验软件是否符合需求的一个重要参考。

## 1.2 命名规范

● 常量以大写英文字母命名，其他变量用小写英文字母开头。

● 所用函数用小写英文字母开头的驼峰式命名。

●  所有类用大写英文字母开头的驼峰式命名。

## 1.3 参考资料

[1] 吕云翔，软件工程——理论与实践（第2版），北京：人民邮电出版社，2018.

[2] “HMS医院门诊预约系统”需求规格说明书

## 1.4 相关文档

“HMS医院门诊预约系统”的《需求规格说明书》



 

# 2.   总体设计

## 2.1 需求规定

随着社会的发展和人口的增长，医疗需求日益增加，导致了医院门诊人流量大，排队时间长，挂号难等问题，给医院和患者带来了不便和困扰。与此同时，互联网技术的普及与发展，人们对网上挂号的期待也愈发提高。

为了解决以上问题，方便患者预约医院的门诊号，同时减轻医院工作人员的工作量，本公司决定开发一个线上的医院门诊预约系统。这个系统旨在替换传统的当场取号和电话预约，让患者能在线上提前预约门诊号，同时方便医生查看当日的患者信息，也便于医院安排门诊排班。

通过上述的机制，开发团队可以确保平台运行在一个正常、良好的环境之上，详细需求说明可参见《“HMS医院门诊预约系统”需求规格说明书》。

## 2.2 运行环境

### 2.2.1 硬件运行环境

（1）服务器

处理器型号：n4系列 Ⅲ

内存容量：1核 2GB

网络配置：1 Mbps

（2） Web浏览PC机

处理器型号：AMD或Intel 1.6GHz以上

内存要求：256MB以上

网路配置：100M带宽网络适配器

### 2.2.2 软件运行环境

（1）服务器

操作系统：CentOS 7.9 64位

数据库：MySQL 8.0

（2）客户机

操作系统：无限制

浏览器：支持所有主流浏览器，推荐使用Firefox或者Chrome等使用webkit内核的浏览器浏览本网站。

网络环境：客户机应能够访问互联网

### 2.2.3 开发环境

（1）硬件环境

处理器型号：AMD Ryzen 5 4500U with Radeon Graphics 2.38 GHz 

内存空间：16GB

硬盘用量：512GB

输入输出设备：鼠标、键盘、显示屏

网络配置：100M带宽网络适配器

（2）软件环境

操作系统：Windows 10 64-bits

数据库：Navicat连接MySQL

开发语言：Java、CSS、HTML等

开发框架：SpringBoot 3.0.5、 Vue 3

软件运行环境：.NET 4.5, VC2012

集成开发环境：IDEA 2022.1、VScode、WebStorm 2021.3

WEB服务器：Microsoft IIS 6.0 或以上版本

测试工具：WebStorm

版本控制工具：Git

（注：开发团队可能依据实施过程中的实际需要对于软件和硬件环境做出相应的调整）

## 2.3基本设计思想

根据平台系统的功能和定位，针对预约平台应注意搜索的准确性、及时性、便利性，功能的完备性，以及良好的用户体验。在Web页面的结构设计中，系统应尽量能够在一个页面中完成一项功能。在Web页面的UI设计中，系统应采用统一的模板和布局，保证页面风格一致和整体布局的简洁清晰性。

## 2.4子系统设计

“hms医院门诊预约系统”系统包含六个子系统，详细的子系统清单见表1：

<center>表 1 子系统清单

| 编号 | 名称           | 功能描述                                                     |
| ---- | -------------- | ------------------------------------------------------------ |
| 1    | 登录注册子系统 | 1.    用户（患者、医生）可以进行注册。  2.    注册用户可以登录系统，查看、修改个人信息，重置密码，登出系统。 |
| 2    | 个人主页子系统 | 1.    患者可以编辑个人资料。  2.    点击头像可以进行个人信息修改。  3.    管理员对医生修改的信息进行审核。 |
| 3    | 医生子事务系统 | 1.    医生可以查看患者信息。  2.    对于每个订单，医生可以确认完成就诊  3.    医生可以查看排班信息。 |
| 4    | 后台管理子系统 | 1.    管理员需审核医生的账号注册与信息修改。  2.    管理员负责管理科室信息。  3.    管理员负责排班信息管理。  4.    管理员负责管理医生信息。 |
| 5    | 消息通知子系统 | 1. 负责消息通知的发送和展示                                  |
| 6    | 预约挂号子系统 | 1.    患者可以查看医生信息。  2.    患者可以进行预约挂号。  3.    患者可以查看已预约信息。 |

## 2.5 功能模块清单

功能模块清单见表2：

<center>表 2 功能模块清单

| 编号 | 名称           | 模块功能描述                         |
| ---- | -------------- | ------------------------------------ |
| 101  | 注册           | 游客通过注册称为已登录用户           |
| 102  | 登录           | 未登录用户通过登录成为已登录用户     |
| 103  | 退出登录       | 已登录用户退出登录                   |
| 104  | 忘记密码       | 未登录用户通过个人信息找回账号       |
| 201  | 查看个人资料   | 已登录用户查看个人资料               |
| 202  | 编辑个人资料   | 已登录用户编辑个人资料               |
| 301  | 查看患者信息   | 医生可以查看患者信息                 |
| 302  | 确认完成看诊   | 医生可以确认某预约已完成看诊         |
| 303  | 查看排班信息   | 医生可以查看排班信息                 |
| 401  | 管理医生信息   | 管理员可以查看并修改医生简介等信息   |
| 402  | 管理科室信息   | 管理员可以查看并修改科室简介等信息   |
| 403  | 管理排班信息   | 管理员可以查看并修改排班信息         |
| 404  | 审核信息       | 管理员负责审核医生账号注册和信息修改 |
| 501  | 查看消息       | 已登录用户可以查看消息通知           |
| 601  | 查看医生信息   | 患者可以查看医生信息                 |
| 602  | 预约挂号       | 患者可以进行预约挂号                 |
| 603  | 查看已预约内容 | 患者可以查看已预约内容               |

# 3.   接口设计

## 3.1 用户接口

在用户界面的设计上，开发团队使用软件进行草图绘制，采用Vue 3作为前端框架进行组件化界面设计，使用Vue CLI进行前端项目的构建，并借助primevue等组件库进行界面美化，提供简介优雅的用户界面。

## 3.2 外部接口

在数据存储方面，开发团队采取阿里云的云端数据库，使用MySQL进行数据的存储与管理，后端使用SpringBoot框架与云数据库进行交互，并使用SpringBoot框架实现后端其他功能的开发。另外，开发团队还将在本地使用Navicat连接到云数据库以便对在本地对云数据库进行管理。

## 3.3 内部接口

在前后端交互方面，由于Vue3框架并没有提供原生的网络模块，故前端采用Axios网络模块与后端进行交互，由前端给出数据需求，并由后端制定标准并给出接口文档。在界面跳转方面，使用Vue Router进行前端路由管理，后端使用SpringBoot的路由管理模块。



 

# 4.   数据库设计

## 4.1数据库中表名列表

<center>表 3 数据库表名列表

| 编号 | 表名              | 功能说明           |
| ---- | ----------------- | ------------------ |
| 1    | admin             | 后台管理员账号信息 |
| 2    | doctor            | 医生账号信息       |
| 3    | patient           | 患者账号信息       |
| 4    | info_admin        | 管理员消息主要信息 |
| 5    | info_doctor       | 医生消息表         |
| 6    | info_patient      | 患者消息表         |
| 7    | info_admin_detail | 管理员消息         |
| 8    | order             | 预约信息表         |
| 9    | schedule          | 医生排班信息表     |
| 10   | section           | 科室信息表         |

 

## 4.2数据库列表清单

<center>表 4 admin

| 序号 | 英文字段名     | 中文名     | 数据类型       | 是否可为空 | 主键/外键 |
| ---- | -------------- | ---------- | -------------- | ---------- | --------- |
| 1    | admin_id       | 管理员id   | Int            | N          | 主键      |
| 2    | admin_password | 管理员密码 | varchar（255） | N          |           |

  

<center>表 5 doctor

| 序号 | 英文字段名          | 中文名                 | 数据类型      | 是否可为空 | 主键/外键 |
| ---- | ------------------- | ---------------------- | ------------- | ---------- | --------- |
| 1    | doctor_id           | 医生id                 | Char(12)      | N          | 主键      |
| 2    | doctor_name         | 医生姓名               | varchar(255)  | N          |           |
| 3    | doctor_number       | 身份证号               | Char(18)      | N          |           |
| 4    | doctor_mail         | 邮箱                   | varchar(255)  | N          |           |
| 5    | doctor_phone        | 手机号                 | varchar(255)  | Y          |           |
| 6    | doctor_password     | 密码                   | varchar(255)  | N          |           |
| 7    | doctor_status       | 状态（账号是否已审核） | tinyint(1)    | N          |           |
| 8    | doctor_section      | 所属科室编号           | int           | Y          | 外键      |
| 9    | doctor_title        | 职称                   | varchar(255)  | Y          |           |
| 10   | doctor_introduction | 简介                   | varchar(4096) | Y          |           |
| 11   | doctor_img          | 头像链接               | varchar(255)  | Y          |           |

 

<center>表 6 patient

| 序号 | 英文字段名       | 中文名   | 数据类型     | 是否可为空 | 主键/外键 |
| ---- | ---------------- | -------- | ------------ | ---------- | --------- |
| 1    | patient_id       | 患者id   | Char(12)     | N          | 主键      |
| 2    | patient_name     | 姓名     | varchar(255) | N          |           |
| 3    | patient_number   | 身份证号 | Char(18)     | N          |           |
| 4    | patient_mail     | 邮箱     | varchar(255) | N          |           |
| 5    | patient_phone    | 手机号   | varchar(255) | Y          |           |
| 6    | patient_sex      | 性别     | tinyint(1)   | Y          |           |
| 7    | patient_birthday | 生日     | date         | Y          |           |
| 8    | patient_password | 密码     | varchar(255) | N          |           |
| 9    | patient_img      | 头像链接 | varchar(255) | Y          |           |

 

<center>表 7 info_admin

| 序号 | 英文字段名  | 中文名     | 数据类型 | 是否可为空 | 主键/外键 |
| ---- | ----------- | ---------- | -------- | ---------- | --------- |
| 1    | info_id     | id         | Int      | N          | 主键      |
| 2    | detail_id   | 详细信息id | Int      | N          | 外键      |
| 3    | info_type   | 消息类型   | Int      | N          |           |
| 4    | info_status | 消息状态   | Int      | N          |           |

 

<center>表 8 info_doctor

| 序号 | 英文字段名 | 中文名   | 数据类型     | 是否可为空 | 主键/外键 |
| ---- | ---------- | -------- | ------------ | ---------- | --------- |
| 1    | info_id    | 消息id   | Int          | N          | 主键      |
| 2    | doctor_id  | 医生id   | Char(12)     | N          | 外键      |
| 3    | info_body  | 消息内容 | varchar(255) | Y          |           |

 

<center>表 9 info_patient

| 序号 | 英文字段名 | 中文名   | 数据类型     | 是否可为空 | 主键/外键 |
| ---- | ---------- | -------- | ------------ | ---------- | --------- |
| 1    | info_id    | 消息id   | Int          | N          | 主键      |
| 2    | patient_id | 患者id   | Char(12)     | N          | 外键      |
| 3    | info_body  | 消息内容 | varchar(255) | Y          |           |

 

<center>表 10 info_admin_detail

| 序号 | 英文字段名          | 中文名                 | 数据类型      | 是否可为空 | 主键/外键 |
| ---- | ------------------- | ---------------------- | ------------- | ---------- | --------- |
| 1    | detal_id            | 详细信息id             | int           | N          | 主键      |
| 2    | doctor_id           | 医生id                 | Char(12)      | N          |           |
| 3    | doctor_name         | 医生姓名               | varchar(255)  | N          |           |
| 4    | doctor_number       | 身份证号               | Char(18)      | N          |           |
| 5    | doctor_mail         | 邮箱                   | varchar(255)  | N          |           |
| 6    | doctor_phone        | 手机号                 | varchar(255)  | Y          |           |
| 7    | doctor_password     | 密码                   | varchar(255)  | N          |           |
| 8    | doctor_status       | 状态（账号是否已审核） | tinyint(1)    | N          |           |
| 9    | doctor_section      | 所属科室编号           | int           | Y          |           |
| 10   | doctor_title        | 职称                   | varchar(255)  | Y          |           |
| 11   | doctor_introduction | 简介                   | varchar(4096) | Y          |           |
| 12   | doctor_img          | 头像链接               | varchar(255)  | Y          |           |

 

<center>表 11 order

| 序号 | 英文字段名   | 中文名     | 数据类型 | 是否可为空 | 主键/外键 |
| ---- | ------------ | ---------- | -------- | ---------- | --------- |
| 1    | order_id     | 预约信息id | int      | N          | 主键      |
| 2    | patient_id   | 患者id     | Char(12) | N          | 外键      |
| 3    | doctor_id    | 医生id     | Char(12) | N          | 外键      |
| 4    | day          | 预约日期   | date     | N          |           |
| 5    | time_start   | 开始时间   | datetime | N          |           |
| 6    | time_end     | 结束时间   | datetime | N          |           |
| 7    | order_status | 预约状态   | int      | N          |           |

 

<center>表 12 schedule

| 序号 | 英文字段名  | 中文名     | 数据类型     | 是否可为空 | 主键/外键 |
| ---- | ----------- | ---------- | ------------ | ---------- | --------- |
| 1    | schedule_id | id         | int          | N          | 主键      |
| 2    | doctor_id   | 医生id     | Char(12)     | N          | 外键      |
| 3    | start_date  | 开始日期   | date         | N          |           |
| 4    | mon1        | 第一个周一 | varchar(255) | N          |           |
| 5    | tue1        | 第一个周二 | varchar(255) | N          |           |
| 6    | wed1        | 第一个周三 | varchar(255) | N          |           |
| 7    | thu1        | 第一个周四 | varchar(255) | N          |           |
| 8    | fri1        | 第一个周五 | varchar(255) | N          |           |
| 9    | sat1        | 第一个周六 | varchar(255) | N          |           |
| 10   | sun1        | 第一个周日 | varchar(255) | N          |           |
| 11   | mon2        | 第二个周一 | varchar(255) | N          |           |
| 12   | tue2        | 第二个周二 | varchar(255) | N          |           |
| 13   | wed2        | 第二个周三 | varchar(255) | N          |           |
| 14   | thu2        | 第二个周四 | varchar(255) | N          |           |
| 15   | fri2        | 第二个周五 | varchar(255) | N          |           |
| 16   | sat2        | 第二个周六 | varchar(255) | N          |           |
| 17   | sun2        | 第二个周日 | varchar(255) | N          |           |

<center>表 13 section

| 序号 | 英文字段名           | 中文名       | 数据类型      | 是否可为空 | 主键/外键 |
| ---- | -------------------- | ------------ | ------------- | ---------- | --------- |
| 1    | section_id           | 科室id       | Int           | N          | 主键      |
| 2    | section_firname      | 一级科室名称 | varchar(255)  | N          |           |
| 3    | section_secname      | 二级科室名称 | varchar(255)  | N          |           |
| 4    | section_introduction | 科室简介     | varchar(4096) |            |           |

 

# 5.   典型系统子功能设计

## 5.1注册登录系统设计

这里给出了用户账号相关的几个功能，登录，退出登录，注册，忘记密码的活动图与顺序图。

### 5.1.1活动图设计

![img](D:\Typora\img\clip_image002.gif)

<center>图 1 登录活动图



![img](D:\Typora\img\clip_image004.gif)

<center>图 2 患者注册活动图



![img](D:\Typora\img\clip_image006.gif)

<center>图 3 医生注册活动图



![img](D:\Typora\img\clip_image008.gif)

<center>图 4 退出登录活动图



![img](D:\Typora\img\clip_image010.gif)

<center>图 5 忘记密码活动图





### 5.1.2顺序图设计

![img](D:\Typora\img\clip_image012.gif)

<center>图 6 登录顺序图



![img](D:\Typora\img\clip_image014.gif)

<center>图 7 注册顺序图



![img](D:\Typora\img\clip_image016.gif)

<center>图 8 退出登录顺序图

![img](D:\Typora\img\clip_image018.gif)

<center>图 9 找回账号顺序图





## 5.2个人主页系统设计

这里给出了患者和医生的个人主页相关功能，编辑患者和医生个人资料的活动图与顺序图。

### 5.2.1活动图设计

![img](D:\Typora\img\clip_image020.jpg)

<center>图 10 编辑患者个人资料活动图



![img](D:\Typora\img\clip_image020.jpg)

<center>图 11 编辑医生个人资料活动图



### 5.2.2顺序图设计

![img](D:\Typora\img\clip_image022.gif)

<center>图 12 编辑患者个人资料顺序图

![img](D:\Typora\img\clip_image024.gif)

<center>图 13 编辑医生个人资料顺序图

## 5.3医生事务系统设计

这里给出了医生事务相关的几个功能，查看患者信息，确认完成预约，查看排班信息的活动图和顺序图设计。

### 5.3.1活动图设计

![img](D:\Typora\img\clip_image026.gif)

<center>图 14 查看患者信息活动图

![img](D:\Typora\img\clip_image028.gif)

<center>图 15 确认完成预约活动图

![img](D:\Typora\img\clip_image030.gif)

<center>图 16 查看排班信息活动图

### 5.3.2顺序图设计

![img](D:\Typora\img\clip_image032.gif)

<center>图 17 查看患者信息顺序图

![img](D:\Typora\img\clip_image034.gif)

<center>图 18 确认完成预约顺序图

![img](D:\Typora\img\clip_image036.gif)

<center>图 19 查看排班信息活动图





## 5.4后台管理系统设计

这里给出了后台管理包含的几个功能，后台管理的活动图和顺序图设计。

### 5.4.1活动图设计

![img](D:\Typora\img\clip_image038.gif)

<center>图 20 医生信息管理图



![img](D:\Typora\img\clip_image040.gif)

<center>图 21 科室信息管理图



![img](D:\Typora\img\clip_image042.gif)

<center>图 22 消息管理图



![img](D:\Typora\img\clip_image044.gif)

<center>图 23 排班管理图





### 5.4.2顺序图设计

![img](D:\Typora\img\clip_image046.gif)

<center>图 24 医生信息管理顺序图



![img](D:\Typora\img\clip_image048.gif)

<center>图 25 科室信息管理顺序图



![img](D:\Typora\img\clip_image050.gif)

<center>图 26 消息管理顺序图



![img](D:\Typora\img\clip_image052.gif)

<center>图 27 医生排班顺序图





## 5.5 消息通知系统设计

这里给出了消息通知的活动图和顺序图设计。

### 5.5.1活动图设计

 

![img](D:\Typora\img\clip_image054.gif)

<center>图 28 消息通知活动图

### 5.5.2顺序图设计

![img](D:\Typora\img\clip_image056.gif)

<center>图 29 消息通知顺序图

## 5.6 预约挂号系统设计

这里给出了预约挂号包含的几个功能，预约挂号的活动图和顺序图设计

### 5.6.1活动图设计

![img](D:\Typora\img\clip_image058.gif)

<center>图 30 查看医生信息活动图

![img](D:\Typora\img\clip_image060.gif)

<center>图 31 预约挂号活动图

![img](D:\Typora\img\clip_image062.gif)

<center>图 32 查看预约信息活动图

### 5.6.2顺序图设计

![img](D:\Typora\img\clip_image064.gif)

<center>图 33 查看医生信息顺序图

![img](D:\Typora\img\clip_image066.gif)

<center>图 34 预约挂号顺序图

![img](D:\Typora\img\clip_image068.gif)

<center>图 35 查看预约信息顺序图

# 6.   功能模块设计

## 6.1 登录页面

**挂载目录** **:** / login

**包含功能模块：**登录表单

**页面参数：**用户是否登录，已登录用户邮箱和密码、用户的身份

**调用背景：**当用户未登录的时候，点击预约系统网站主页的登录界面进入登录页面，当未登录用户使用预约和支付费用等已登录用户的行为时，也会自动跳转到该页面。

**页面组成：**

· 背景图片

· 主要内容

■ 用户的id或者身份证号、密码、用户的身份

■ 登录按钮

■ 跳转到登录界面的链接，跳转到忘记密码的链接

**页面使用简介：**

未登录用户可以正常在网站中进行一些对于医生基本信息的查询，但是登录后可以享受更多的功能

登录后会自动跳转至个人主页。

 

**概念图如图** **36** **所示：**

![img](D:\Typora\img\clip_image070.gif)

<center>图 36 登录页面

## 6.2 注册页面

**挂载目录**：/register

**包含功能模块**：注册表单，验证码生成模块

**页面参数**：用户是否已注册、用户注册信息

**调用背景**：如果用户在登录页面中发现自己未注册，则点击“点击注册”进入到注册页面。

**页面组成**：

•  背景图片。

•  用于注册的表单：

■ 邮箱、密码、验证码、姓名、身份证号、确认密码、所在科室（当用户的身份是医生时）

■ 注册按钮、发送验证码按钮

■ 身份选择按钮

**页面使用简介**：

游客可以进入此界面进行注册。

注册成功后系统会自动跳转至登录界面。



 

**概念图如图** **37** **所示**：

![img](D:\Typora\img\clip_image072.jpg)

<center>图 37 患者注册页面

![img](D:\Typora\img\clip_image074.gif)

<center>图 38 医生注册页面



## 6.3患者个人主页界面

**挂载目录**：/ patientspace

**包含功能模块**：用户是否修改个人信息、显示患者的个人信息

**调用背景**：用户进行登录后的跳转页面，或者当已登录用户点击        下拉框中的个人空间选项时，也会进入该界面。

**页面组成**：

•  个人头像的展示（左侧）

•  全局背景图片

•  用于个人信息展示的信息卡，点击具体项目可以进行编辑

•  保存编辑的按钮

•  表示欢迎的标题

**页面使用简介**：

已登录用户点击点击个人信息选项的时候，可以查看到当前个人的信息。

点击个人信息卡片中的信息项，会出现对该项的表单，当失焦的时候会将修改后的内容进行在信息卡上的展示。

当完成修改之后，点击保存按钮，会将当前的信息进行保存，同步到数据库中。

 

**概念图如图** **39** **所示**：

![img](D:\Typora\img\clip_image076.gif)

<center>图 39 患者个人主页页面





## 6.4医生个人主页界面

**挂载目录**：/ doctorspace

**包含功能模块**：医生是否修改个人信息、医生是否修改个人简历。

**调用背景**：医生在进行注册之后，或者在点击下拉框中的个人信息选项。

**页面组成**：

•  个人头像的展示（左侧）

•  全局背景图片

•  用于个人信息展示的信息卡，点击具体项目可以进行编辑

•  保存编辑的按钮

•  表示欢迎的标题

•  医生的个人简历

**页面使用简介**：

已登录用户点击点击个人信息选项的时候，可以查看到当前个人的信息。

点击个人信息卡片中的信息项，会出现对该项的表单，当失焦的时候会将修改后的内容进行在信息卡上的展示。

当完成修改之后，点击保存按钮，会将当前的信息进行保存，同步到数据库中。

点击“经历简介”信息框下面的按钮“编辑简历”可以对于自己的简历进行修改，当修改完成后点击“保存简历”修改的信息会同步到数据库中。

**概念图如图** **40** **所示**：

![img](D:\Typora\img\clip_image078.gif)

<center>图 40 医生个人主页页面





## 6.5消息通知界面

**挂载目录**：/ message

**包含功能模块**：显示用户收到的信息，将未读的信息标为已读，将已读的信息清理删除。

**调用背景**：用户点击主页面下拉框中的“消息通知”选项。

**页面组成**：

•  “消息通知”的标题

•  背景图片

•  已读信息的展示栏

•  未读信息的展示栏

•  “标为已读”、“删除”的按钮

•  未读消息的数量的红色提示圆圈

•  消息的具体显示：

■ 消息标题

■ 消息内容

**页面使用简介**：

已登录用户点击下拉框中的“消息通知”选项进入界面。

​    在界面中可以看到所有的消息，其中包括已读消息和未读消息。

点击“标为已读”按钮，可以将未读消息框中的消息转移到已读消息框中。

点击“删除”按钮，可以将已读消息框中的消息清空。

初始的时候，界面显示的是消息的标题，如果想要了解消息的具体内容可以点击标题，具体内容将会出现在下面。
    

**概念图如图** **41** **所示**：

![img](D:\Typora\img\clip_image080.gif)

<center>图 41 消息通知页面



## 6.6 医生端主页界面

**挂载目录**：/ doctorID /

**包含功能模块**：今日候诊列表、每周排班信息列表、 退出登录按钮、消息通知按钮、个人主页按钮。

**调用背景**：医生用户进行登录后的跳转页面。

**页面组成**：

•  今日候诊列表

•  下拉框：

■ 个人主页选项

■ 消息通知选项

■ 退出登录选项

•  “今日候诊”与“排班信息”按钮

**页面使用简介**：

已登录的医生用户可以在该页面查看今日候诊名单，点击排班信息按钮可以切换到本周排班列表。

点击个人主页选项跳转到个人信息页面。

点击消息通知选项跳转到消息通知页面。

点击退出登录选项跳转到登录页面。

**概念图如图** **42** **所示**：

![img](D:\Typora\img\clip_image082.gif)

<center>图 42 医生端主页页面



## 6.7 忘记密码页面

**挂载目录：**/ForgetPwd

**包含功能模块** **：**密码找回表单

**页面参数** **：**用户是否已登录、密码找回的基本信息

**调用背景** **：**用户在登录时，点击“忘记密码”链接进入

**页面组成** **：**

•  身份选项框

•  邮箱、验证码、密码、确认密码

•  按钮：

■ “发送验证码”按钮

■ “修改密码”按钮

**页面使用简介** **：**

用户在登陆界面忘记自己的密码的时候，通过点击“忘记密码”登录到此页面。通过填写相应的表单，进行密码的修改。

**概念图如图** **43** **所示** **：**

![img](D:\Typora\img\clip_image084.gif)

<center>图 43 忘记密码界面

## 6.8 患者端主页面

**挂载目录** **：**/patient

**包含功能模块：**我的预约、查找医生、预约挂号、个人中心

**页面参数** **：**用户信息

**调用背景** **：**在患者登录界面使用患者账号密码登录进入

**页面组成：**

“我的预约”“预约挂号”“医生信息”按钮

**页面使用简介：**

用户登录成功后，进入患者端主界面。在顶部导航栏中可以查看个人信息和消息，中间提供我的预约、查找医生、预约挂号等功能入口。

**概念图如图** **44** **所示** **：**

![img](D:\Typora\img\clip_image086.gif)

<center>图 44 患者端主页面



## 6.9 我的预约页面

**挂载目录：**/MyAppointment

**包含功能模块** **：**预约信息列表

**页面参数** **：**用户已登录、当前用户的预约信息列表

**调用背景** **：**用户登录后，点击“我的预约”进入

**页面组成** **：**

•预约信息列表，包括预约时间、医生、科室、状态等信息

•取消预约按钮，点击后可以取消该预约

**页面使用简介** **：**

用户在登录后，可以通过点击“我的预约”进入此页面，查看自己所有的历史预约信息。预约信息以列表形式展示，包括预约时间、医生、科室、状态等信息。用户可以通过点击“取消预约”按钮取消待就诊的预约。

**概念图如图** **45** **所示** **：**

![img](D:\Typora\img\clip_image088.gif)

<center>图 45 我的预约界面



## 6.10 预约挂号页面

**挂载目录：**/AddAppointment

**包含功能模块** **：**预约信息列表

**页面参数：**医生信息、可预约时间段

**调用背景** **：**用户登录后，点击“预约挂号”进入

**页面组成** **：**

•时间、科室选项

•医生信息展示区域，包括医生姓名、照片、科室、职称、简介等

•可预约时间段展示区域，包括日期、上午/下午、是否可预约等信息 

•按钮：

   ■“确认预约”按钮 

   ■“取消预约”按钮 

**页面使用简介** **：**

用户点击“预约挂号”按钮进入到预约挂号界面。用户选择日期和科室后，可在医生信息展示区域查看可预约医生列表，点击医生查看其详细信息，可在可预约时间段展示区域选择一个可预约的时间段，点击“确认预约”按钮后，进入完成预约挂号。用户也可选择“取消预约”按钮返回到上一页。

**概念图如图** **46** **所示** **：**

![img](D:\Typora\img\clip_image090.gif)

<center>图 46 预约挂号界面

## 6.11 查看医生信息页面

**挂载目录：**/CheckDoctorInfo

**包含功能模块** **：**医生信息展示、预约挂号按钮、相关科室信息

**页面参数** **：**医生基本信息、科室基本信息

**调用背景** **：**用户登录后，点击“我的预约”进入

**页面组成** **：**

•医生照片

•医生姓名、职称、科室 、介绍

•相关科室信息

**页面使用简介** **：**

用户在登录后，可以通过点击“医生信息”进入此页面，选择科室，查看科室中的医生列表和科室信息。点击医生可以查看医生的基本信息，也可以进行预约挂号操作。

**概念图如图** **47** **所示** **：**

![img](D:\Typora\img\clip_image092.gif)

<center>图 47 查看医生信息界面



## 6.12 后台管理员页面

**挂载目录** **：**/admin

**包含功能模块：**信息管理模块、消息审核模块、医生排班模块

**页面参数** **：**无

**调用背景** **：**在医生登录界面使用管理员账号密码登录进入

**页面组成：**

- 导航栏

- 功能区

	- 信息管理

		- 信息展示区

		- 修改信息录入区

	- 消息审核

		- 消息展示

		- 消息详细信息查看界面

	- 医生排班

		- 医生筛选页

		- 处理排班界面

**页面使用简介：**

该页面是仅管理员能查看的后台界面。在此页面，管理员可以查看并修改医生、科室的信息，对未审核消息查看详情、同意/拒绝申请，以及对医生进行排班。 

**概念图如图** **48** **所示：**

![img](D:\Typora\img\clip_image094.gif)

<center>图 48 管理员信息管理界面



![img](D:\Typora\img\clip_image096.gif)

<center>图 49 管理员信息审核界面



![img](D:\Typora\img\clip_image098.gif)

<center>图 50 管理员医生排班界面



# 7.   角色授权设计

开发团队设计的“hms医院门诊预约系统”一共有三类角色，这三类角色的权限见表14，数字的大小代表了角色在对应子系统中拥有的权限级别。权限级别越高，能使用的子系统功能就越多，管理员能够使用所有子系统功能，角色授权见表14。

<center>表 14 角色授权

| 子系统         | 患者 | 医生 | 管理员 |
| -------------- | ---- | ---- | ------ |
| 登录注册子系统 | 1    | 2    | 3      |
| 个人主页子系统 | 1    | 2    | 3      |
| 医生事务子系统 |      | 2    | 2      |
| 后台管理子系统 |      |      | 3      |
| 预约挂号子系统 | 2    | 2    | 3      |

  

# 8.   系统出错处理设计

常见的安全问题有恶意输入、假冒身份以及信息泄露。而与之对应的没有保证用户的用户名、密码、个人信息的安全（泄露或是篡改）正是系统出错最严重的错误。只有保证前后端代码的严密性以及系统的健壮性才能尽量避免用户安全问题的发生。

## 8.1出错信息

​    用表格的方式说明常见的错误发生时，系统输出的信息形式、含义以及处理方法。

常见的情况有以下几种：用户输入的信息不合法（软错误），web服务器的错误（硬件方面）。

<center>表 14 错误信息列表

![image-20230518143419326](D:\Typora\img\image-20230518143419326.png)

## 8.2故障的预防和补救措施

预防措施：

1. 信息输入时可采取：涉及用户输入的内容，需要考虑到可能的恶意输入，做出针对性预防措施；对于涉及用户权限的，要求有身份的验证，一些对安全要求极高的，可以在需求上就要求做双重验证。

2. 针对数据库的丢失：采取定期备份数据库的方法。

3. 针对服务器的故障：设置备用服务器。

4. 提醒并纠正用户误操作产生的错误。

故障发生后的补救措施通常有如下几种：

1. 恢复机制：回滚至故障点处，可以从之重新执行。

2. 同预防措施的第三点：降低效率采用备用服务器，为维修主服务器提供时间

3. 分析错误日志，找出漏洞在哪里，针对性地修补漏洞。

## 8.3错误处理设计

针对常见的错误信息，我们进行相应的错误处理设计如下：

1. 数据库错误：连接失败或数据库异常，请联系管理员。（弹出消息）

2. 系统自定义错误：根据每种情况弹出相应的错误信息。

3. 网络错误：请检查你的网络连接。（弹出消息）

4. 链接错误：跳转到特定404页面。



 

# 9.   系统维护与安全设计

## 9.1 系统维护设计

此项主要是对服务器之上的数据库以及挂载页面等文件进行维护。

数据库维护：我们使用数据库的维护功能机制，比如，定期备份、定期检测数据库的一致性，定期查看操作日志等。

文件方面：定期处理垃圾文件和检查页面挂载情况，验证文件的完整性。

为了维持本系统的稳定和更好的发展，我们将设置一个使用反馈专区，为用户提供一个反馈的入口，我们通过收集这一专区的信息来对用户提出的问题进行处理和改进，不断地更新和完善系统，保持系统的活力。

## 9.2 安全设计

对于数据库中存储的铭感信息进行加密处理，减小被黑客攻击的危害。

由于前台程序的用户较多，地点较为分散，应该限制非法用户对于本网站的使用。拟采用web服务器段来实现安全设计。对于有过异常行为的IP地址，我们将对其进行限制。且我们要求用户的绑定的邮箱或者手机号真实存在。

# 10. 测试计划

测试计划作为本网站的测试指导，测试成员按计划和规定进行测试。本网站将从单元测试、集成测试、负载测试以及后续的beta测试四个方面来设计。

目前测试计划表如下：

<center>表15 测试计划表

| 序号 | 测试计划类型 | 对应部分         | 测试计划内容             | 测试时间  | 是否完成 |
| ---- | ------------ | ---------------- | ------------------------ | --------- | -------- |
| 1    | 单元测试     | 注册登录模块     | 测试注册登录功能         | 2023.5.25 | 否       |
| 2    | 单元测试     | 个人主页模块     | 测试个人主页功能         | 2023.5.25 | 否       |
| 3    | 单元测试     | 消息通知模块     | 测试消息通知功能         | 2023.5.25 | 否       |
| 4    | 单元测试     | 医生端主页模块   | 测试医生端主页功能       | 2023.5.25 | 否       |
| 5    | 单元测试     | 患者端主页模块   | 测试患者端主页功能       | 2023.5.25 | 否       |
| 6    | 单元测试     | 预约挂号模块     | 测试预约挂号功能是否正常 | 2023.5.25 | 否       |
| 7    | 单元测试     | 后台管理模块     | 测试后台管理功能         | 2023.5.25 | 否       |
| 8    | 集成测试     | 患者端系统       | 测试患者端功能           | 2023.5.26 | 否       |
| 9    | 集成测试     | 医生端系统       | 测试医生端功能           | 2023.5.26 | 否       |
| 10   | 集成测试     | 后台系统         | 测试后台功能             | 2023.5.26 | 否       |
| 11   | 系统测试     | 整个预约挂号平台 | 测试整个平台的运转       | 2023.5.27 | 否       |

 